---
interface Props {
  className?: string;
  width?: string;
  height?: string;
}

const { className = '', width = 'full', height = '4' } = Astro.props;
---

<div class={`bg-gray-700 rounded animate-pulse h-${height} w-${width} ${className}`}></div>

<script>
  function toggleLoadingState() {
    const skeletons = document.querySelectorAll('[data-skeleton]');
    const content = document.querySelectorAll('[data-content]');

    // Ocultar skeletons y mostrar contenido después de un pequeño delay
    setTimeout(() => {
      skeletons.forEach((skeleton) => {
        skeleton.classList.add('hidden');
      });

      content.forEach((element) => {
        element.classList.remove('hidden');
      });
    }, 300);
  }

  document.addEventListener('DOMContentLoaded', () => {
    const skeletons = document.querySelectorAll('[data-skeleton]');
    const content = document.querySelectorAll('[data-content]');

    skeletons.forEach((skeleton) => {
      skeleton.classList.remove('hidden');
    });

    content.forEach((element) => {
      element.classList.add('hidden');
    });
  });

  window.addEventListener('load', toggleLoadingState);
</script>
